"use strict";(self.webpackChunkpc_mobile_news_headlines=self.webpackChunkpc_mobile_news_headlines||[]).push([[688],{4214:function(e,s,r){r.r(s),r.d(s,{default:function(){return y}});var l=r(9439),a=r(570),n=r(4145),i=r(3695),t=r(8362),o=r(6295),u=r(7309),c=r(2791),d=r(6030),m=r(3298),p=r(8981),h=r(184),b=a.Z.Item,x=n.Z.TabPane,Z={style:{display:"none"}},f={textAlign:"right"},j={borderRadius:6};function y(e){var s=e.modalVisible,r=e.setModalVisible,y=(0,c.useState)("login"),w=(0,l.Z)(y,2),g=w[0],P=w[1],v=(0,d.I0)(),k=a.Z.useForm(),C=(0,l.Z)(k,1)[0],F=a.Z.useForm(),_=(0,l.Z)(F,1)[0],M=(0,c.useCallback)((function(){_.resetFields(),r(!1)}),[]),T=(0,c.useCallback)((function(){_.resetFields(),r(!1)}),[]),V=(0,c.useCallback)((function(e){var s=e.username,l=e.password;if(C.resetFields(),_.resetFields(),"login"===g){var a=m.t.get(s);if(!a)return void i.ZP.error("\u8be5\u7528\u6237\u5c1a\u672a\u6ce8\u518c");if(a.username!==s||a.password!==l)return void i.ZP.error("\u8d26\u53f7\u5bc6\u7801\u9519\u8bef");v((0,p.x4)({username:s})),i.ZP.success("\u767b\u5f55\u6210\u529f")}else{if(l!==e.passwordAgain)return void i.ZP.error("\u786e\u8ba4\u5bc6\u7801\u4e0e\u8bbe\u7f6e\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01");if(m.t.get(s))return void i.ZP.error("\u8be5\u7528\u6237\u540d\u5df2\u6ce8\u518c");m.t.set(s,{username:s,password:l}),v((0,p.x4)({username:s})),i.ZP.success("\u6ce8\u518c\u6210\u529f\uff0c\u5373\u5c06\u81ea\u52a8\u767b\u5f55\uff01")}r(!1)}),[g]),A=(0,c.useCallback)((function(e){"1"===e&&P("login"),"2"===e&&P("register")}),[]),N=((0,c.useMemo)((function(){return{style:{display:"none"}}}),[]),(0,c.useMemo)((function(){return[{required:!0,message:"Please input your username"}]}),[])),q=(0,c.useMemo)((function(){return[{required:!0,message:"Please input your password"}]}),[]);return(0,h.jsx)(t.Z,{title:"\u7528\u6237\u4e2d\u5fc3",wrapClassName:"vertical-center-modal",className:"user-center-modal",visible:s,onCancel:M,onOk:T,okText:"\u5173\u95ed",cancelButtonProps:Z,footer:null,style:j,children:(0,h.jsxs)(n.Z,{type:"card",onChange:A,children:[(0,h.jsx)(x,{tab:"\u767b\u5f55",className:"tab-pane-wrapper",children:(0,h.jsxs)(a.Z,{name:"login",layout:"vertical",form:C,onFinish:V,initialValues:{remember:!0},children:[(0,h.jsx)(b,{label:"\u8d26\u6237",name:"username",rules:N,children:(0,h.jsx)(o.Z,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7"})}),(0,h.jsx)(b,{label:"\u5bc6\u7801",name:"password",rules:q,children:(0,h.jsx)(o.Z.Password,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"})}),(0,h.jsx)(b,{style:f,children:(0,h.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"\u767b\u5f55"})})]})},"1"),(0,h.jsx)(x,{tab:"\u6ce8\u518c",children:(0,h.jsxs)(a.Z,{name:"zhuce",layout:"vertical",form:_,onFinish:V,initialValues:{remember:!0},children:[(0,h.jsx)(b,{label:"\u8d26\u6237",name:"username",rules:N,children:(0,h.jsx)(o.Z,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7"})}),(0,h.jsx)(b,{label:"\u5bc6\u7801",name:"password",rules:q,children:(0,h.jsx)(o.Z.Password,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"})}),(0,h.jsx)(b,{label:"\u786e\u8ba4\u5bc6\u7801",name:"passwordAgain",rules:q,children:(0,h.jsx)(o.Z.Password,{placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"})}),(0,h.jsx)(b,{style:f,children:(0,h.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"\u6ce8\u518c"})})]})},"2")]})})}}}]);
//# sourceMappingURL=login-modal.587667b3.chunk.js.map